{
  "groups": [
    {
      "id": "edge",
      "label": "Edge & Ingress"
    },
    {
      "id": "frontend",
      "label": "Frontend & API"
    },
    {
      "id": "backend",
      "label": "Compute & Logic"
    },
    {
      "id": "data",
      "label": "Data & Storage"
    },
    {
      "id": "security",
      "label": "Identity & Security"
    },
    {
      "id": "observability",
      "label": "Monitoring"
    }
  ],
  "services": [
    {
      "id": "frontdoor",
      "name": "Azure Front Door",
      "type": "Azure Front Door",
      "category": "networking",
      "description": "Global traffic routing and WAF",
      "groupId": "edge"
    },
    {
      "id": "apim",
      "name": "API Management",
      "type": "API Management",
      "category": "integration",
      "description": "API gateway for e-commerce APIs",
      "groupId": "frontend"
    },
    {
      "id": "appservice",
      "name": "App Service",
      "type": "App Service",
      "category": "app services",
      "description": "Web frontend and checkout UI",
      "groupId": "frontend"
    },
    {
      "id": "functions",
      "name": "Azure Functions",
      "type": "Azure Functions",
      "category": "compute",
      "description": "Payment processing and order workflows",
      "groupId": "backend"
    },
    {
      "id": "servicebus",
      "name": "Service Bus",
      "type": "Service Bus",
      "category": "integration",
      "description": "Order event queuing",
      "groupId": "backend"
    },
    {
      "id": "cosmosdb",
      "name": "Azure Cosmos DB",
      "type": "Azure Cosmos DB",
      "category": "databases",
      "description": "Product catalog and orders",
      "groupId": "data"
    },
    {
      "id": "search",
      "name": "Azure Cognitive Search",
      "type": "Azure Cognitive Search",
      "category": "ai + machine learning",
      "description": "Product search and recommendations",
      "groupId": "data"
    },
    {
      "id": "storage",
      "name": "Storage Account",
      "type": "Storage Account",
      "category": "storage",
      "description": "Product images and static assets",
      "groupId": "data"
    },
    {
      "id": "entra",
      "name": "Microsoft Entra ID",
      "type": "Microsoft Entra ID",
      "category": "identity",
      "description": "User authentication",
      "groupId": "security"
    },
    {
      "id": "keyvault",
      "name": "Key Vault",
      "type": "Key Vault",
      "category": "security",
      "description": "Payment secrets and certificates",
      "groupId": "security"
    },
    {
      "id": "monitor",
      "name": "Azure Monitor",
      "type": "Azure Monitor",
      "category": "monitor",
      "description": "Central observability hub",
      "groupId": "observability"
    },
    {
      "id": "loganalytics",
      "name": "Log Analytics",
      "type": "Log Analytics",
      "category": "monitor",
      "description": "Log storage and analytics",
      "groupId": "observability"
    }
  ],
  "connections": [
    {
      "from": "frontdoor",
      "to": "apim",
      "label": "Route customer traffic to APIs",
      "type": "sync"
    },
    {
      "from": "apim",
      "to": "appservice",
      "label": "Proxy product catalog requests",
      "type": "sync"
    },
    {
      "from": "appservice",
      "to": "search",
      "label": "Query product search and filters",
      "type": "sync"
    },
    {
      "from": "appservice",
      "to": "cosmosdb",
      "label": "Read product details and inventory",
      "type": "sync"
    },
    {
      "from": "appservice",
      "to": "functions",
      "label": "Submit payment and order requests",
      "type": "async"
    },
    {
      "from": "functions",
      "to": "servicebus",
      "label": "Queue order confirmation events",
      "type": "async"
    },
    {
      "from": "servicebus",
      "to": "cosmosdb",
      "label": "Persist completed orders",
      "type": "async"
    },
    {
      "from": "functions",
      "to": "keyvault",
      "label": "Retrieve payment gateway secrets",
      "type": "sync"
    },
    {
      "from": "appservice",
      "to": "entra",
      "label": "Authenticate user sessions",
      "type": "sync"
    },
    {
      "from": "appservice",
      "to": "monitor",
      "label": "Send application telemetry",
      "type": "async"
    },
    {
      "from": "functions",
      "to": "storage",
      "label": "Upload order receipts",
      "type": "async"
    },
    {
      "from": "monitor",
      "to": "loganalytics",
      "label": "Forward metrics and logs",
      "type": "async"
    }
  ],
  "workflow": [
    {
      "step": 1,
      "description": "Customer traffic enters through Front Door with WAF protection",
      "services": [
        "frontdoor"
      ]
    },
    {
      "step": 2,
      "description": "API Management routes requests to App Service frontend",
      "services": [
        "frontdoor",
        "apim",
        "appservice"
      ]
    },
    {
      "step": 3,
      "description": "App Service authenticates users and queries product search",
      "services": [
        "appservice",
        "entra",
        "search"
      ]
    },
    {
      "step": 4,
      "description": "Product details loaded from Cosmos DB and images from Storage",
      "services": [
        "appservice",
        "cosmosdb",
        "storage"
      ]
    },
    {
      "step": 5,
      "description": "User adds to cart and initiates checkout via Functions",
      "services": [
        "appservice",
        "functions"
      ]
    },
    {
      "step": 6,
      "description": "Functions retrieves payment secrets and processes transaction",
      "services": [
        "functions",
        "keyvault"
      ]
    },
    {
      "step": 7,
      "description": "Order events queued to Service Bus for fulfillment",
      "services": [
        "functions",
        "servicebus"
      ]
    },
    {
      "step": 8,
      "description": "Service Bus triggers order persistence to Cosmos DB",
      "services": [
        "servicebus",
        "cosmosdb"
      ]
    },
    {
      "step": 9,
      "description": "App Service and Functions send telemetry to Monitor",
      "services": [
        "appservice",
        "functions",
        "monitor"
      ]
    },
    {
      "step": 10,
      "description": "Monitor aggregates logs into Log Analytics for analysis",
      "services": [
        "monitor",
        "loganalytics"
      ]
    }
  ],
  "metrics": {
    "promptTokens": 1365,
    "completionTokens": 1622,
    "totalTokens": 2987,
    "elapsedTimeMs": 8740,
    "model": "grok-4-1-fast-non-reasoning"
  },
  "metadata": {
    "prompt": "E-commerce platform with payments and search",
    "model": "grok-4.1-fast",
    "modelDisplayName": "Grok 4.1 Fast",
    "reasoningEffort": "medium",
    "metrics": {
      "promptTokens": 1365,
      "completionTokens": 1622,
      "totalTokens": 2987,
      "elapsedTimeMs": 8740,
      "model": "grok-4-1-fast-non-reasoning"
    },
    "savedAt": "2026-02-28T14:42:29.709Z",
    "source": "model-comparison"
  }
}