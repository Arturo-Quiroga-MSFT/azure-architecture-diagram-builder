{
  "nodes": [
    {
      "id": "grp-ingestion",
      "type": "groupNode",
      "position": {
        "x": -20,
        "y": 280
      },
      "data": {
        "label": "Ingestion & API Layer"
      },
      "style": {
        "width": 920,
        "height": 940
      },
      "width": 920,
      "height": 940,
      "selected": false,
      "positionAbsolute": {
        "x": -20,
        "y": 280
      },
      "dragging": false,
      "resizing": false
    },
    {
      "id": "grp-processing",
      "type": "groupNode",
      "position": {
        "x": 920,
        "y": 420
      },
      "data": {
        "label": "Real-time Processing"
      },
      "style": {
        "width": 920,
        "height": 530
      },
      "width": 920,
      "height": 530,
      "selected": false,
      "dragging": false,
      "positionAbsolute": {
        "x": 920,
        "y": 420
      },
      "resizing": false
    },
    {
      "id": "grp-ai",
      "type": "groupNode",
      "position": {
        "x": 1890,
        "y": 170
      },
      "data": {
        "label": "AI Moderation Services"
      },
      "style": {
        "width": 540,
        "height": 960
      },
      "width": 540,
      "height": 960,
      "positionAbsolute": {
        "x": 1890,
        "y": 170
      }
    },
    {
      "id": "grp-data",
      "type": "groupNode",
      "position": {
        "x": 980,
        "y": 1040
      },
      "data": {
        "label": "Data Layer"
      },
      "style": {
        "width": 540,
        "height": 460
      },
      "width": 540,
      "height": 460,
      "selected": false,
      "positionAbsolute": {
        "x": 980,
        "y": 1040
      },
      "dragging": false
    },
    {
      "id": "grp-security-monitoring",
      "type": "groupNode",
      "position": {
        "x": 2480,
        "y": -20
      },
      "data": {
        "label": "Security & Monitoring"
      },
      "style": {
        "width": 540,
        "height": 1885
      },
      "width": 540,
      "height": 1885,
      "selected": false,
      "dragging": false,
      "positionAbsolute": {
        "x": 2480,
        "y": -20
      }
    },
    {
      "id": "apim",
      "type": "azureNode",
      "position": {
        "x": 140,
        "y": 240
      },
      "data": {
        "label": "Api Management",
        "iconPath": "/Azure_Public_Service_Icons/Icons/integration/api-management.svg",
        "pricing": {
          "estimatedCost": 99.99978,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Hour",
          "lastUpdated": "2026-01-12T16:32:51.342Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ingestion",
      "extent": "parent",
      "width": 164,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 120,
        "y": 520
      },
      "dragging": false
    },
    {
      "id": "appservice",
      "type": "azureNode",
      "position": {
        "x": 460,
        "y": 680
      },
      "data": {
        "label": "App Service",
        "iconPath": "/Azure_Public_Service_Icons/Icons/app services/app-service.svg",
        "pricing": {
          "estimatedCost": 69.35,
          "tier": "S1",
          "skuName": "S1",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-01-12T16:32:51.342Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ingestion",
      "extent": "parent",
      "width": 128,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 440,
        "y": 960
      },
      "dragging": false
    },
    {
      "id": "eventhubs",
      "type": "azureNode",
      "position": {
        "x": 160,
        "y": 260
      },
      "data": {
        "label": "Event Hubs",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/10149-icon-service-Event-Hub-Clusters.svg",
        "pricing": {
          "estimatedCost": 27.6,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-01-12T16:32:51.384Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-processing",
      "extent": "parent",
      "width": 123,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 1080,
        "y": 680
      },
      "dragging": false
    },
    {
      "id": "functions",
      "type": "azureNode",
      "position": {
        "x": 580,
        "y": 120
      },
      "data": {
        "label": "Azure Functions",
        "iconPath": "/Azure_Public_Service_Icons/Icons/app services/app-service.svg"
      },
      "parentNode": "grp-processing",
      "extent": "parent",
      "width": 159,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 1500,
        "y": 540
      },
      "dragging": false
    },
    {
      "id": "computervision",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 180
      },
      "data": {
        "label": "Computer Vision",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/computer-vision.svg",
        "pricing": {
          "estimatedCost": 150,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-01-12T16:32:51.372Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ai",
      "extent": "parent",
      "width": 162,
      "height": 111,
      "positionAbsolute": {
        "x": 2070,
        "y": 350
      }
    },
    {
      "id": "language",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 430
      },
      "data": {
        "label": "Language",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/03513-icon-service-AI-Studio.svg",
        "pricing": {
          "estimatedCost": 25,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-01-12T16:32:51.342Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ai",
      "extent": "parent",
      "width": 120,
      "height": 111,
      "positionAbsolute": {
        "x": 2070,
        "y": 600
      }
    },
    {
      "id": "openai",
      "type": "azureNode",
      "position": {
        "x": 210,
        "y": 590
      },
      "data": {
        "label": "Azure OpenAI",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/03513-icon-service-AI-Studio.svg",
        "pricing": {
          "estimatedCost": 200,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-01-12T16:32:51.342Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ai",
      "extent": "parent",
      "width": 141,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 2100,
        "y": 760
      },
      "dragging": false
    },
    {
      "id": "sqldb",
      "type": "azureNode",
      "position": {
        "x": 130,
        "y": 245
      },
      "data": {
        "label": "Sql Database",
        "iconPath": "/Azure_Public_Service_Icons/Icons/databases/azure-cosmos-db.svg"
      },
      "parentNode": "grp-data",
      "extent": "parent",
      "width": 137,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 1110,
        "y": 1285
      },
      "dragging": false
    },
    {
      "id": "entra",
      "type": "azureNode",
      "position": {
        "x": 40,
        "y": 280
      },
      "data": {
        "label": "Microsoft Entra ID",
        "iconPath": "/Azure_Public_Service_Icons/Icons/identity/02680-icon-service-Entra-Identity-Custom-Roles.svg"
      },
      "parentNode": "grp-security-monitoring",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "selected": true,
      "positionAbsolute": {
        "x": 2520,
        "y": 260
      },
      "dragging": false
    },
    {
      "id": "appinsights",
      "type": "azureNode",
      "position": {
        "x": 80,
        "y": 1220
      },
      "data": {
        "label": "Application Insights",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/00007-icon-service-Activity-Log.svg",
        "pricing": {
          "estimatedCost": 0.1,
          "tier": "Basic",
          "skuName": "Basic",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 GB/Month",
          "lastUpdated": "2026-01-12T16:32:51.342Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-security-monitoring",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "selected": false,
      "positionAbsolute": {
        "x": 2560,
        "y": 1200
      },
      "dragging": false
    },
    {
      "id": "monitor",
      "type": "azureNode",
      "position": {
        "x": 160,
        "y": 1560
      },
      "data": {
        "label": "Monitor",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/00020-icon-service-Metrics.svg",
        "pricing": {
          "estimatedCost": 2.3,
          "tier": "Voice Calls",
          "skuName": "Voice Calls",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1",
          "lastUpdated": "2026-01-12T16:32:51.386Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-security-monitoring",
      "extent": "parent",
      "width": 120,
      "height": 111,
      "selected": false,
      "positionAbsolute": {
        "x": 2640,
        "y": 1540
      },
      "dragging": false
    }
  ],
  "edges": [
    {
      "id": "edge-0",
      "source": "apim",
      "target": "entra",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Authenticate/authorize API calls",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-1",
      "source": "apim",
      "target": "appservice",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Route moderation requests (submit/query)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-3",
      "source": "eventhubs",
      "target": "functions",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Stream events to moderation processor",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      }
    },
    {
      "id": "edge-4",
      "source": "functions",
      "target": "computervision",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Analyze images referenced by post",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-5",
      "source": "functions",
      "target": "language",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Analyze post text for policy violations",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-6",
      "source": "functions",
      "target": "openai",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Contextual reasoning over combined signals",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      },
      "selected": false
    },
    {
      "id": "edge-7",
      "source": "functions",
      "target": "sqldb",
      "sourceHandle": "bottom",
      "targetHandle": "top",
      "animated": true,
      "type": "editableEdge",
      "label": "Persist moderation decision, scores, and audit info",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-8",
      "source": "appservice",
      "target": "sqldb",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Query moderation results for retrieval endpoints",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward"
      }
    },
    {
      "id": "edge-10",
      "source": "functions",
      "target": "appinsights",
      "sourceHandle": "bottom",
      "targetHandle": "top",
      "animated": true,
      "type": "editableEdge",
      "label": "Emit processing traces, exceptions, and dependency telemetry",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      },
      "selected": false
    },
    {
      "source": "appservice",
      "sourceHandle": "right",
      "target": "eventhubs",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Publish post events for real-time moderation",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      },
      "id": "reactflow__edge-appserviceright-eventhubsleft"
    },
    {
      "source": "sqldb",
      "sourceHandle": "right",
      "target": "monitor",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Metrics and alerts (DTU/vCore, deadlocks, latency)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      },
      "id": "reactflow__edge-sqldbright-monitorleft"
    },
    {
      "source": "eventhubs",
      "sourceHandle": "bottom",
      "target": "monitor",
      "targetHandle": "top",
      "animated": true,
      "type": "editableEdge",
      "label": "Metrics and alerts (throughput, lag, errors)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      },
      "id": "reactflow__edge-eventhubsbottom-monitortop"
    },
    {
      "source": "appservice",
      "sourceHandle": "right",
      "target": "appinsights",
      "targetHandle": "left",
      "animated": true,
      "type": "editableEdge",
      "label": "Emit request traces and dependency telemetry",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "data": {
        "connectionType": "async",
        "direction": "forward"
      },
      "id": "reactflow__edge-appserviceright-appinsightsleft"
    }
  ],
  "viewport": {
    "x": -2.621219999828895,
    "y": -136.65051681329487,
    "zoom": 0.8071461864271899
  }
}