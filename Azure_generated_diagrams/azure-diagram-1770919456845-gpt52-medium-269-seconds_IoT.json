{
  "nodes": [
    {
      "id": "grp-ot-ingestion",
      "type": "groupNode",
      "position": {
        "x": -30,
        "y": 2120
      },
      "data": {
        "label": "OT Network & Ingestion"
      },
      "style": {
        "width": 1300,
        "height": 960
      },
      "width": 1300,
      "height": 960,
      "positionAbsolute": {
        "x": -30,
        "y": 2120
      }
    },
    {
      "id": "grp-realtime",
      "type": "groupNode",
      "position": {
        "x": 1310,
        "y": 1970
      },
      "data": {
        "label": "Real-time Intelligence"
      },
      "style": {
        "width": 1300,
        "height": 860
      },
      "width": 1300,
      "height": 860,
      "positionAbsolute": {
        "x": 1310,
        "y": 1970
      }
    },
    {
      "id": "grp-data-analytics",
      "type": "groupNode",
      "position": {
        "x": 1310,
        "y": 2720
      },
      "data": {
        "label": "Data Platform & Analytics"
      },
      "style": {
        "width": 1300,
        "height": 710
      },
      "width": 1300,
      "height": 710,
      "positionAbsolute": {
        "x": 1310,
        "y": 2720
      }
    },
    {
      "id": "grp-apps",
      "type": "groupNode",
      "position": {
        "x": 1310,
        "y": -30
      },
      "data": {
        "label": "Applications & Visualization"
      },
      "style": {
        "width": 1780,
        "height": 960
      },
      "width": 1780,
      "height": 960,
      "positionAbsolute": {
        "x": 1310,
        "y": -30
      }
    },
    {
      "id": "grp-security-ops",
      "type": "groupNode",
      "position": {
        "x": -30,
        "y": 820
      },
      "data": {
        "label": "Security, IT Network & Operations"
      },
      "style": {
        "width": 3600,
        "height": 1260
      },
      "width": 3600,
      "height": 1260,
      "positionAbsolute": {
        "x": -30,
        "y": 820
      }
    },
    {
      "id": "vnet-ot",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 430
      },
      "data": {
        "label": "Virtual Network",
        "iconPath": "/Azure_Public_Service_Icons/Icons/networking/10061-icon-service-Virtual-Networks.svg",
        "pricing": {
          "estimatedCost": 3.65,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-02-12T18:04:01.284Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ot-ingestion",
      "extent": "parent",
      "width": 154,
      "height": 111,
      "positionAbsolute": {
        "x": 150,
        "y": 2550
      }
    },
    {
      "id": "iot-hub",
      "type": "azureNode",
      "position": {
        "x": 940,
        "y": 180
      },
      "data": {
        "label": "Azure IoT Hub",
        "iconPath": "/Azure_Public_Service_Icons/Icons/iot/10182-icon-service-IoT-Hub.svg",
        "pricing": {
          "estimatedCost": 10,
          "tier": "S1",
          "skuName": "S1",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1K",
          "lastUpdated": "2026-02-12T18:04:01.277Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ot-ingestion",
      "extent": "parent",
      "width": 143,
      "height": 111,
      "positionAbsolute": {
        "x": 910,
        "y": 2300
      }
    },
    {
      "id": "stream-analytics",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 330
      },
      "data": {
        "label": "Azure Stream Analytics",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/stream-analytics.svg"
      },
      "parentNode": "grp-realtime",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1490,
        "y": 2300
      }
    },
    {
      "id": "aml",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 580
      },
      "data": {
        "label": "Azure Machine Learning",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/azure-machine-learning.svg",
        "pricing": {
          "estimatedCost": 50,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-02-12T18:04:01.285Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-realtime",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1490,
        "y": 2550
      }
    },
    {
      "id": "aml-online-endpoint",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 180
      },
      "data": {
        "label": "AML Online Endpoint",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/azure-machine-learning.svg",
        "pricing": {
          "estimatedCost": 0,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-12T18:04:01.278Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-realtime",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1870,
        "y": 2150
      }
    },
    {
      "id": "digital-twins",
      "type": "azureNode",
      "position": {
        "x": 940,
        "y": 380
      },
      "data": {
        "label": "Azure Digital Twins",
        "iconPath": "/Azure_Public_Service_Icons/Icons/iot/01030-icon-service-Digital-Twins.svg",
        "pricing": {
          "estimatedCost": 0.05,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1K",
          "lastUpdated": "2026-02-12T18:04:01.278Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-realtime",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 2250,
        "y": 2350
      }
    },
    {
      "id": "datalake",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 180
      },
      "data": {
        "label": "Azure Data Lake Storage",
        "iconPath": "/Azure_Public_Service_Icons/Icons/storage/10090-icon-service-Data-Lake-Storage-Gen1.svg",
        "pricing": {
          "estimatedCost": 18.4,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-12T18:04:01.278Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-data-analytics",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1870,
        "y": 2900
      }
    },
    {
      "id": "storage-archive",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 430
      },
      "data": {
        "label": "Storage Account",
        "iconPath": "/Azure_Public_Service_Icons/Icons/storage/storage-account.svg",
        "pricing": {
          "estimatedCost": 14.6,
          "tier": "Hot LRS",
          "skuName": "Hot LRS",
          "quantity": 1,
          "region": "eastus2",
          "unit": "10K",
          "lastUpdated": "2026-02-12T18:04:01.202Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-data-analytics",
      "extent": "parent",
      "width": 163,
      "height": 111,
      "positionAbsolute": {
        "x": 1870,
        "y": 3150
      }
    },
    {
      "id": "data-factory",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 405
      },
      "data": {
        "label": "Azure Data Factory",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/data-factory.svg",
        "pricing": {
          "estimatedCost": 5,
          "tier": "Cloud",
          "skuName": "Cloud",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Month",
          "lastUpdated": "2026-02-12T18:04:01.285Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-data-analytics",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1490,
        "y": 3125
      }
    },
    {
      "id": "synapse",
      "type": "azureNode",
      "position": {
        "x": 940,
        "y": 180
      },
      "data": {
        "label": "Azure Synapse Analytics",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/azure-synapse-analytics.svg"
      },
      "parentNode": "grp-data-analytics",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 2250,
        "y": 2900
      }
    },
    {
      "id": "cosmosdb",
      "type": "azureNode",
      "position": {
        "x": 940,
        "y": 180
      },
      "data": {
        "label": "Azure Cosmos DB",
        "iconPath": "/Azure_Public_Service_Icons/Icons/databases/azure-cosmos-db.svg",
        "pricing": {
          "estimatedCost": 0.02,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 GB/Month",
          "lastUpdated": "2026-02-12T18:04:01.202Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 2250,
        "y": 150
      }
    },
    {
      "id": "service-bus",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 355
      },
      "data": {
        "label": "Service Bus",
        "iconPath": "/Azure_Public_Service_Icons/Icons/integration/service-bus.svg",
        "pricing": {
          "estimatedCost": 9.81,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-12T18:04:01.278Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 126,
      "height": 111,
      "positionAbsolute": {
        "x": 1870,
        "y": 325
      }
    },
    {
      "id": "functions",
      "type": "azureNode",
      "position": {
        "x": 940,
        "y": 430
      },
      "data": {
        "label": "Azure Functions",
        "iconPath": "/Azure_Public_Service_Icons/Icons/compute/azure-functions.svg"
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 159,
      "height": 111,
      "positionAbsolute": {
        "x": 2250,
        "y": 400
      }
    },
    {
      "id": "signalr",
      "type": "azureNode",
      "position": {
        "x": 1420,
        "y": 305
      },
      "data": {
        "label": "Azure SignalR Service",
        "iconPath": "/Azure_Public_Service_Icons/Icons/web/10052-icon-service-SignalR.svg",
        "pricing": {
          "estimatedCost": 49,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Day",
          "lastUpdated": "2026-02-12T18:04:01.278Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 2730,
        "y": 275
      }
    },
    {
      "id": "static-web",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 605
      },
      "data": {
        "label": "Azure Static Web Apps",
        "iconPath": "/Azure_Public_Service_Icons/Icons/web/01007-icon-service-Static-Apps.svg",
        "pricing": {
          "estimatedCost": 9,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-12T18:04:01.279Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 1490,
        "y": 575
      }
    },
    {
      "id": "apim",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 605
      },
      "data": {
        "label": "API Management",
        "iconPath": "/Azure_Public_Service_Icons/Icons/integration/api-management.svg",
        "pricing": {
          "estimatedCost": 50.26,
          "tier": "Developer",
          "skuName": "Developer",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Hour",
          "lastUpdated": "2026-02-12T18:04:01.286Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-apps",
      "extent": "parent",
      "width": 165,
      "height": 111,
      "positionAbsolute": {
        "x": 1870,
        "y": 575
      }
    },
    {
      "id": "entra",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 430
      },
      "data": {
        "label": "Microsoft Entra ID",
        "iconPath": "/Azure_Public_Service_Icons/Icons/identity/10340-icon-service-Entra-Identity-Roles-and-Administrators.svg",
        "pricing": {
          "estimatedCost": 6,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-12T18:04:01.279Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 171,
      "height": 132,
      "positionAbsolute": {
        "x": 530,
        "y": 1250
      }
    },
    {
      "id": "key-vault",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 730
      },
      "data": {
        "label": "Key Vault",
        "iconPath": "/Azure_Public_Service_Icons/Icons/security/key-vault.svg",
        "pricing": {
          "estimatedCost": 21.9,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "10K",
          "lastUpdated": "2026-02-12T18:04:01.283Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 120,
      "height": 111,
      "positionAbsolute": {
        "x": 530,
        "y": 1550
      }
    },
    {
      "id": "vnet-it",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 430
      },
      "data": {
        "label": "Virtual Network",
        "iconPath": "/Azure_Public_Service_Icons/Icons/networking/10061-icon-service-Virtual-Networks.svg",
        "pricing": {
          "estimatedCost": 3.65,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-02-12T18:04:01.284Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 154,
      "height": 111,
      "positionAbsolute": {
        "x": 150,
        "y": 1250
      }
    },
    {
      "id": "azure-firewall",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 980
      },
      "data": {
        "label": "Azure Firewall",
        "iconPath": "/Azure_Public_Service_Icons/Icons/networking/10084-icon-service-Firewalls.svg",
        "pricing": {
          "estimatedCost": 11.68,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 GB",
          "lastUpdated": "2026-02-12T18:04:01.282Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 142,
      "height": 111,
      "positionAbsolute": {
        "x": 530,
        "y": 1800
      }
    },
    {
      "id": "azure-monitor",
      "type": "azureNode",
      "position": {
        "x": 2760,
        "y": 180
      },
      "data": {
        "label": "Azure Monitor",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/00001-icon-service-Monitor.svg",
        "pricing": {
          "estimatedCost": 2.3,
          "tier": "Voice Calls",
          "skuName": "Voice Calls",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1",
          "lastUpdated": "2026-02-12T18:04:01.306Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 143,
      "height": 111,
      "positionAbsolute": {
        "x": 2730,
        "y": 1000
      }
    },
    {
      "id": "log-analytics",
      "type": "azureNode",
      "position": {
        "x": 3240,
        "y": 180
      },
      "data": {
        "label": "Log Analytics",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/log-analytics.svg",
        "pricing": {
          "estimatedCost": 2.3,
          "tier": "Voice Calls",
          "skuName": "Voice Calls",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1",
          "lastUpdated": "2026-02-12T18:04:01.306Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-security-ops",
      "extent": "parent",
      "width": 138,
      "height": 111,
      "positionAbsolute": {
        "x": 3210,
        "y": 1000
      }
    }
  ],
  "edges": [
    {
      "id": "edge-0",
      "source": "vnet-ot",
      "target": "azure-firewall",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Force OT egress through firewall for policy enforcement and threat inspection",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-1",
      "source": "azure-firewall",
      "target": "iot-hub",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Allow OT-to-IoT Hub ingestion over Private Link endpoint with restricted outbound rules",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-2",
      "source": "entra",
      "target": "iot-hub",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Apply RBAC and managed identity access for operations and secure device management workflows",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-3",
      "source": "key-vault",
      "target": "iot-hub",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Provide device certificates and secrets for secure provisioning and rotation processes",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-4",
      "source": "iot-hub",
      "target": "stream-analytics",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Stream telemetry events from IoT Hub built-in endpoint into real-time processing jobs",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-5",
      "source": "iot-hub",
      "target": "datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Route raw telemetry to Data Lake landing zone for replay, audits, and long-term analytics",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-6",
      "source": "stream-analytics",
      "target": "aml-online-endpoint",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Invoke online model scoring per event/window for anomaly inference under sub-second latency",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-7",
      "source": "stream-analytics",
      "target": "digital-twins",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Update asset twin properties and health state using scored anomalies and enriched signals",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-8",
      "source": "stream-analytics",
      "target": "cosmosdb",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Persist near-real-time aggregates, anomalies, and KPI rollups for dashboard queries",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-9",
      "source": "stream-analytics",
      "target": "service-bus",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Publish anomaly alerts and maintenance events for downstream notification and ticketing flows",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-10",
      "source": "service-bus",
      "target": "functions",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Trigger alert handlers to enrich events with twin context and deduplicate notifications",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-11",
      "source": "functions",
      "target": "signalr",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Push real-time anomaly notifications to connected dashboard clients",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-12",
      "source": "static-web",
      "target": "apim",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Call secured backend APIs for live dashboards, asset drill-down, and reporting views",
      "markerStart": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "reverse",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-13",
      "source": "apim",
      "target": "cosmosdb",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Query recent time-series aggregates and anomaly history optimized for dashboard latency",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-14",
      "source": "apim",
      "target": "digital-twins",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Retrieve facility topology and asset metadata to contextualize telemetry and alerts",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-15",
      "source": "apim",
      "target": "synapse",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Execute trend analysis and reporting queries over curated historical datasets",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-16",
      "source": "data-factory",
      "target": "datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Orchestrate batch curation jobs to create partitioned, query-optimized datasets for analytics",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-17",
      "source": "data-factory",
      "target": "storage-archive",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Tier aged partitions from hot lake to cold archive storage to meet 7-year retention policy",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-18",
      "source": "datalake",
      "target": "synapse",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Expose curated telemetry for batch analytics, trend modeling, and reporting workloads",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-19",
      "source": "aml",
      "target": "datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Read historical telemetry and maintenance outcomes to train and validate predictive models",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-20",
      "source": "aml",
      "target": "aml-online-endpoint",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Deploy validated model versions to the low-latency online endpoint for production scoring",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-21",
      "source": "vnet-it",
      "target": "azure-firewall",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Route IT egress through firewall for controlled access to private endpoints and services",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-22",
      "source": "vnet-it",
      "target": "datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Access Data Lake via Private Link for analytics and governed data movement",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-23",
      "source": "vnet-it",
      "target": "synapse",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Connect to Synapse via Private Link to keep reporting and analytics traffic off the public internet",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-24",
      "source": "vnet-it",
      "target": "digital-twins",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Query and manage Digital Twins via Private Link for OT/IT network segregation compliance",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-25",
      "source": "key-vault",
      "target": "functions",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Retrieve API keys, certificates, and connection secrets using managed identity",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-26",
      "source": "key-vault",
      "target": "aml",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Securely supply training data access credentials and deployment secrets",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-27",
      "source": "iot-hub",
      "target": "azure-monitor",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Emit device, routing, and throttling metrics for ingestion health and SLA monitoring",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-28",
      "source": "stream-analytics",
      "target": "azure-monitor",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Send job metrics and late-event diagnostics to monitor real-time latency and failures",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-29",
      "source": "functions",
      "target": "azure-monitor",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Publish execution metrics and failure traces to support alerting and incident response",
      "markerStart": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "reverse",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-30",
      "source": "synapse",
      "target": "azure-monitor",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Report pipeline and query workload telemetry for capacity and reliability tracking",
      "markerStart": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "reverse",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-31",
      "source": "azure-monitor",
      "target": "log-analytics",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Centralize platform diagnostics and logs into a queryable workspace for investigations",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-32",
      "source": "entra",
      "target": "apim",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Authenticate dashboard users and enforce per-role access policies on APIs",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    }
  ],
  "viewport": {
    "x": 110.5,
    "y": -213,
    "zoom": 0.5
  },
  "metadata": {
    "architectureName": "Untitled Architecture",
    "author": "Azure Architect",
    "version": "1.0",
    "date": "2026-02-12",
    "savedAt": "2026-02-12T18:04:16.844Z"
  },
  "workflow": [
    {
      "step": 1,
      "description": "Sensor gateways in the OT network send telemetry every 5 seconds to IoT Hub through controlled OT egress and private connectivity.",
      "services": [
        "vnet-ot",
        "azure-firewall",
        "iot-hub"
      ]
    },
    {
      "step": 2,
      "description": "IoT Hub authenticates and manages devices, then fan-outs telemetry to both real-time processing and raw landing storage.",
      "services": [
        "iot-hub",
        "entra",
        "key-vault",
        "stream-analytics",
        "datalake"
      ]
    },
    {
      "step": 3,
      "description": "Stream Analytics performs windowing/feature extraction and calls the AML Online Endpoint for sub-second anomaly scoring.",
      "services": [
        "stream-analytics",
        "aml-online-endpoint"
      ]
    },
    {
      "step": 4,
      "description": "Scored anomalies update the facility model and asset health state in Digital Twins for contextual operational understanding.",
      "services": [
        "stream-analytics",
        "digital-twins"
      ]
    },
    {
      "step": 5,
      "description": "Real-time aggregates and anomaly results are written to Cosmos DB for fast dashboard queries and operational views.",
      "services": [
        "stream-analytics",
        "cosmosdb"
      ]
    },
    {
      "step": 6,
      "description": "Critical anomaly events are published to Service Bus; Functions consumes them, enriches with twin context, and pushes live updates to the dashboard via SignalR.",
      "services": [
        "service-bus",
        "functions",
        "signalr",
        "digital-twins"
      ]
    },
    {
      "step": 7,
      "description": "Batch pipelines curate lake data, run trend analytics in Synapse, and periodically tier older partitions to cold archive storage for 7-year retention.",
      "services": [
        "data-factory",
        "datalake",
        "synapse",
        "storage-archive"
      ]
    },
    {
      "step": 8,
      "description": "Dashboards access secured APIs to render live operations views (near-real-time) and historical trend reports over private IT connectivity.",
      "services": [
        "static-web",
        "apim",
        "vnet-it",
        "cosmosdb",
        "synapse",
        "digital-twins"
      ]
    },
    {
      "step": 9,
      "description": "Telemetry, processing jobs, APIs, and analytics emit metrics/logs to Azure Monitor and Log Analytics for SLA tracking and incident response.",
      "services": [
        "azure-monitor",
        "log-analytics",
        "iot-hub",
        "stream-analytics",
        "functions",
        "synapse"
      ]
    }
  ],
  "architecturePrompt": "An industrial IoT predictive maintenance platform for a manufacturing facility with 5,000+ sensors generating telemetry every 5 seconds, requiring real-time anomaly detection with sub-second latency, batch analytics for trend analysis, secure device provisioning and management, OT/IT network segregation with Private Link, 99.9% uptime SLA, 6-month hot storage and 7-year cold retention, using IoT Hub for ingestion, Stream Analytics for real-time processing, Azure ML for predictive models, Data Lake for raw storage, Synapse Analytics for reporting, Time Series Insights for dashboards, and Digital Twins for facility modeling"
}