{
  "nodes": [
    {
      "id": "grp-ingestion",
      "type": "groupNode",
      "position": {
        "x": 1310,
        "y": -30
      },
      "data": {
        "label": "Ingestion"
      },
      "style": {
        "width": 1020,
        "height": 460
      },
      "width": 1020,
      "height": 460,
      "positionAbsolute": {
        "x": 1310,
        "y": -30
      }
    },
    {
      "id": "grp-data",
      "type": "groupNode",
      "position": {
        "x": 2370,
        "y": -30
      },
      "data": {
        "label": "Data Layer"
      },
      "style": {
        "width": 540,
        "height": 710
      },
      "width": 540,
      "height": 710,
      "positionAbsolute": {
        "x": 2370,
        "y": -30
      }
    },
    {
      "id": "grp-ml",
      "type": "groupNode",
      "position": {
        "x": 1310,
        "y": 570
      },
      "data": {
        "label": "ML Platform"
      },
      "style": {
        "width": 1600,
        "height": 585
      },
      "width": 1600,
      "height": 585,
      "positionAbsolute": {
        "x": 1310,
        "y": 570
      }
    },
    {
      "id": "grp-serving",
      "type": "groupNode",
      "position": {
        "x": 450,
        "y": 1045
      },
      "data": {
        "label": "Serving & API"
      },
      "style": {
        "width": 1400,
        "height": 735
      },
      "width": 1400,
      "height": 735,
      "positionAbsolute": {
        "x": 450,
        "y": 1045
      }
    },
    {
      "id": "grp-ops",
      "type": "groupNode",
      "position": {
        "x": -30,
        "y": 1670
      },
      "data": {
        "label": "Ops & Security"
      },
      "style": {
        "width": 2940,
        "height": 560
      },
      "width": 2940,
      "height": 560,
      "positionAbsolute": {
        "x": -30,
        "y": 1670
      }
    },
    {
      "id": "svc-producers",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 180
      },
      "data": {
        "label": "Data Producers",
        "iconPath": "/Azure_Public_Service_Icons/Icons/integration/10048-icon-service-API-Connections.svg"
      },
      "parentNode": "grp-ingestion",
      "extent": "parent",
      "width": 153,
      "height": 111,
      "positionAbsolute": {
        "x": 1490,
        "y": 150
      }
    },
    {
      "id": "svc-eventhubs",
      "type": "azureNode",
      "position": {
        "x": 660,
        "y": 180
      },
      "data": {
        "label": "Event Hubs",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/10148-icon-service-Analysis-Services.svg",
        "pricing": {
          "estimatedCost": 27.6,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-01T21:06:48.573Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ingestion",
      "extent": "parent",
      "width": 123,
      "height": 111,
      "positionAbsolute": {
        "x": 1970,
        "y": 150
      }
    },
    {
      "id": "svc-datalake",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 180
      },
      "data": {
        "label": "Data Lake Storage",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/10145-icon-service-Azure-Data-Explorer-Clusters.svg",
        "pricing": {
          "estimatedCost": 0,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-01T21:06:48.573Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-data",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 2550,
        "y": 150
      }
    },
    {
      "id": "svc-cosmos",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 430
      },
      "data": {
        "label": "Azure Cosmos DB",
        "iconPath": "/Azure_Public_Service_Icons/Icons/databases/10137-icon-service-Azure-SQL-Server-Stretch-Databases.svg",
        "pricing": {
          "estimatedCost": 0.02,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 GB/Month",
          "lastUpdated": "2026-02-01T21:06:48.511Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-data",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 2550,
        "y": 400
      }
    },
    {
      "id": "svc-datafactory",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 205
      },
      "data": {
        "label": "Data Factory",
        "iconPath": "/Azure_Public_Service_Icons/Icons/analytics/10145-icon-service-Azure-Data-Explorer-Clusters.svg",
        "pricing": {
          "estimatedCost": 5,
          "tier": "Cloud",
          "skuName": "Cloud",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Month",
          "lastUpdated": "2026-02-01T21:06:48.589Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ml",
      "extent": "parent",
      "width": 133,
      "height": 111,
      "positionAbsolute": {
        "x": 1490,
        "y": 775
      }
    },
    {
      "id": "svc-aml",
      "type": "azureNode",
      "position": {
        "x": 660,
        "y": 305
      },
      "data": {
        "label": "Azure Machine Learning",
        "iconPath": "/Azure_Public_Service_Icons/Icons/ai + machine learning/03513-icon-service-AI-Studio.svg",
        "pricing": {
          "estimatedCost": 50,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-02-01T21:06:48.581Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ml",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 1970,
        "y": 875
      }
    },
    {
      "id": "svc-acr",
      "type": "azureNode",
      "position": {
        "x": 1240,
        "y": 305
      },
      "data": {
        "label": "Container Registry",
        "iconPath": "/Azure_Public_Service_Icons/Icons/containers/container-instances.svg",
        "pricing": {
          "estimatedCost": 20,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Second",
          "lastUpdated": "2026-02-01T21:06:48.581Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ml",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 2550,
        "y": 875
      }
    },
    {
      "id": "svc-apim",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 305
      },
      "data": {
        "label": "Api Management",
        "iconPath": "/Azure_Public_Service_Icons/Icons/integration/api-management.svg",
        "pricing": {
          "estimatedCost": 99.99978,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1/Hour",
          "lastUpdated": "2026-02-01T21:06:48.582Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-serving",
      "extent": "parent",
      "width": 164,
      "height": 111,
      "positionAbsolute": {
        "x": 630,
        "y": 1350
      }
    },
    {
      "id": "svc-appservice",
      "type": "azureNode",
      "position": {
        "x": 560,
        "y": 305
      },
      "data": {
        "label": "App Service",
        "iconPath": "/Azure_Public_Service_Icons/Icons/app services/app-service.svg",
        "pricing": {
          "estimatedCost": 69.35,
          "tier": "S1",
          "skuName": "S1",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 Hour",
          "lastUpdated": "2026-02-01T21:06:48.511Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-serving",
      "extent": "parent",
      "width": 128,
      "height": 111,
      "positionAbsolute": {
        "x": 1010,
        "y": 1350
      }
    },
    {
      "id": "svc-functions",
      "type": "azureNode",
      "position": {
        "x": 1040,
        "y": 380
      },
      "data": {
        "label": "Azure Functions",
        "iconPath": "/Azure_Public_Service_Icons/Icons/app services/app-service.svg"
      },
      "parentNode": "grp-serving",
      "extent": "parent",
      "width": 158,
      "height": 111,
      "positionAbsolute": {
        "x": 1490,
        "y": 1425
      }
    },
    {
      "id": "svc-entra",
      "type": "azureNode",
      "position": {
        "x": 180,
        "y": 230
      },
      "data": {
        "label": "Microsoft Entra ID",
        "iconPath": "/Azure_Public_Service_Icons/Icons/identity/02680-icon-service-Entra-Identity-Custom-Roles.svg",
        "pricing": {
          "estimatedCost": 6,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "per instance/month",
          "lastUpdated": "2026-02-01T21:06:48.574Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ops",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 150,
        "y": 1900
      }
    },
    {
      "id": "svc-keyvault",
      "type": "azureNode",
      "position": {
        "x": 660,
        "y": 180
      },
      "data": {
        "label": "Key Vault",
        "iconPath": "/Azure_Public_Service_Icons/Icons/identity/10224-icon-service-Active-Directory-Connect-Health.svg",
        "pricing": {
          "estimatedCost": 21.9,
          "tier": "Standard",
          "skuName": "Standard",
          "quantity": 1,
          "region": "eastus2",
          "unit": "10K",
          "lastUpdated": "2026-02-01T21:06:48.587Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ops",
      "extent": "parent",
      "width": 120,
      "height": 111,
      "positionAbsolute": {
        "x": 630,
        "y": 1850
      }
    },
    {
      "id": "svc-appinsights",
      "type": "azureNode",
      "position": {
        "x": 2000,
        "y": 280
      },
      "data": {
        "label": "Application Insights",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/application-insights.svg",
        "pricing": {
          "estimatedCost": 0.1,
          "tier": "Basic",
          "skuName": "Basic",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1 GB/Month",
          "lastUpdated": "2026-02-01T21:06:48.590Z",
          "isCustom": false,
          "isUsageBased": false
        }
      },
      "parentNode": "grp-ops",
      "extent": "parent",
      "width": 170,
      "height": 132,
      "positionAbsolute": {
        "x": 1970,
        "y": 1950
      }
    },
    {
      "id": "svc-loganalytics",
      "type": "azureNode",
      "position": {
        "x": 2580,
        "y": 280
      },
      "data": {
        "label": "Log Analytics",
        "iconPath": "/Azure_Public_Service_Icons/Icons/monitor/00007-icon-service-Activity-Log.svg",
        "pricing": {
          "estimatedCost": 2.3,
          "tier": "Voice Calls",
          "skuName": "Voice Calls",
          "quantity": 1,
          "region": "eastus2",
          "unit": "1",
          "lastUpdated": "2026-02-01T21:06:48.589Z",
          "isCustom": false,
          "isUsageBased": true
        }
      },
      "parentNode": "grp-ops",
      "extent": "parent",
      "width": 138,
      "height": 111,
      "positionAbsolute": {
        "x": 2550,
        "y": 1950
      }
    }
  ],
  "edges": [
    {
      "id": "edge-0",
      "source": "svc-producers",
      "target": "svc-eventhubs",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Publish streaming events / telemetry",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-1",
      "source": "svc-eventhubs",
      "target": "svc-datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Land raw events (capture/streaming sink)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-2",
      "source": "svc-datafactory",
      "target": "svc-datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Read raw data and write curated/training datasets",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-3",
      "source": "svc-datafactory",
      "target": "svc-aml",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Trigger training pipeline runs (schedule/event-based)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-4",
      "source": "svc-aml",
      "target": "svc-datalake",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Read training data; write outputs (artifacts/metrics)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-5",
      "source": "svc-aml",
      "target": "svc-acr",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Build and push training/inference images",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-6",
      "source": "svc-apim",
      "target": "svc-appservice",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Route inference API calls to backend",
      "markerStart": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "reverse",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-7",
      "source": "svc-appservice",
      "target": "svc-functions",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Invoke pre/post-processing (when needed)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "2, 4",
        "opacity": 0.6
      },
      "data": {
        "connectionType": "optional",
        "direction": "forward",
        "baseFlowAnimated": false,
        "flowAnimated": false,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-8",
      "source": "svc-appservice",
      "target": "svc-aml",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Call managed online endpoint for inference",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-9",
      "source": "svc-functions",
      "target": "svc-aml",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Call managed online endpoint for inference",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-10",
      "source": "svc-appservice",
      "target": "svc-cosmos",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Store inference metadata / request context",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-11",
      "source": "svc-entra",
      "target": "svc-apim",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Authenticate/authorize clients (OAuth2/OIDC)",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-12",
      "source": "svc-keyvault",
      "target": "svc-appservice",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Retrieve secrets/configuration securely",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-13",
      "source": "svc-keyvault",
      "target": "svc-functions",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Retrieve secrets/configuration securely",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-14",
      "source": "svc-keyvault",
      "target": "svc-aml",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Access secrets for data sources and deployments",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-15",
      "source": "svc-appservice",
      "target": "svc-appinsights",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Emit traces, dependency calls, and custom events",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-16",
      "source": "svc-functions",
      "target": "svc-appinsights",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Emit function execution telemetry",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-17",
      "source": "svc-aml",
      "target": "svc-loganalytics",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Send training/deployment logs and metrics for analysis",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {
        "strokeDasharray": "5, 5"
      },
      "data": {
        "connectionType": "async",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    },
    {
      "id": "edge-18",
      "source": "svc-appinsights",
      "target": "svc-loganalytics",
      "sourceHandle": "right",
      "targetHandle": "left",
      "animated": false,
      "type": "editableEdge",
      "label": "Centralize monitoring queries and alerts",
      "markerEnd": {
        "type": "arrowclosed",
        "color": "#0078d4"
      },
      "labelStyle": {
        "fontSize": 14,
        "fill": "#333",
        "fontWeight": "bold"
      },
      "labelBgStyle": {
        "fill": "white",
        "fillOpacity": 0.9,
        "stroke": "#000",
        "strokeWidth": 1.5
      },
      "style": {},
      "data": {
        "connectionType": "sync",
        "direction": "forward",
        "baseFlowAnimated": true,
        "flowAnimated": true,
        "flowMode": "directional",
        "labelOffsetX": 0,
        "labelOffsetY": 0
      }
    }
  ],
  "viewport": {
    "x": 638.8141592920354,
    "y": 139.23303834808257,
    "zoom": 0.5438790560471977
  },
  "metadata": {
    "architectureName": "Untitled Architecture",
    "author": "Azure Architect",
    "version": "1.0",
    "date": "2026-02-01",
    "savedAt": "2026-02-01T21:07:08.734Z"
  },
  "workflow": [
    {
      "step": 1,
      "description": "Data producers emit events/records into the ingestion layer for reliable, scalable capture of streaming data.",
      "services": [
        "svc-producers",
        "svc-eventhubs"
      ]
    },
    {
      "step": 2,
      "description": "Ingested data is landed into the data lake to create an immutable raw zone and enable downstream batch preparation for ML.",
      "services": [
        "svc-eventhubs",
        "svc-datalake"
      ]
    },
    {
      "step": 3,
      "description": "Data Factory orchestrates data preparation (cleaning, joins, feature shaping) and writes curated datasets back to the lake for repeatable training.",
      "services": [
        "svc-datafactory",
        "svc-datalake"
      ]
    },
    {
      "step": 4,
      "description": "Data Factory triggers Azure Machine Learning training pipelines, which read curated datasets from the lake and produce model artifacts and metrics.",
      "services": [
        "svc-datafactory",
        "svc-aml",
        "svc-datalake"
      ]
    },
    {
      "step": 5,
      "description": "Azure Machine Learning builds/versions inference images and stores them in Container Registry to support consistent deployment across environments.",
      "services": [
        "svc-aml",
        "svc-acr"
      ]
    },
    {
      "step": 6,
      "description": "Inference traffic enters through API Management and is routed to the application backend; optional Functions handle feature enrichment and post-processing before calling the Azure ML online endpoint.",
      "services": [
        "svc-apim",
        "svc-appservice",
        "svc-functions",
        "svc-aml"
      ]
    },
    {
      "step": 7,
      "description": "The application persists inference metadata when needed and continuously emits telemetry; logs and metrics are centralized for operational monitoring and alerting.",
      "services": [
        "svc-cosmos",
        "svc-appinsights",
        "svc-loganalytics",
        "svc-appservice",
        "svc-functions",
        "svc-aml"
      ]
    },
    {
      "step": 8,
      "description": "Microsoft Entra ID and Key Vault provide end-to-end identity, authentication, and secret management for APIs, applications, and ML pipelines.",
      "services": [
        "svc-entra",
        "svc-keyvault",
        "svc-apim",
        "svc-appservice",
        "svc-functions",
        "svc-aml"
      ]
    }
  ],
  "architecturePrompt": "A machine learning pipeline with data ingestion, training, and inference endpoints"
}